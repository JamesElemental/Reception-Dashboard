<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reception Dashboard</title>
  <meta http-equiv="refresh" content="2100">

  <style>
    html, body {
      height: 100%;
      margin: 0;
      background: #000;
      overflow: hidden;
    }

    /* Centers the image without zooming or cropping */
    body {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    img {
      max-width: 100vw;
      max-height: 100vh;
      width: auto;
      height: auto;
      object-fit: contain;   /* <-- FIXES the zoomed-in issue */
      display: block;
      background: #000;
    }
  </style>

  <script>
    async function loadLatest() {
      const img = document.getElementById('dash');
      const cb = () => '?cb=' + Date.now();

      // Load fallback immediately (with cache-buster)
      img.src = 'screenshots/dashboard-latest.png' + cb();

      try {
        // Load latest.txt (with cache-buster)
        const txt = await fetch('screenshots/latest.txt' + cb(), { cache: 'no-store' })
                          .then(r => r.text());
        img.src = 'screenshots/' + txt.trim() + cb();
      } catch (e) {
        // Ignore and keep fallback
      }

      img.onerror = () => {
        img.src = 'screenshots/dashboard-latest.png' + cb();
      };
    }

    window.onload = loadLatest;
  </script>

</head>
<body>
  <img id="dash" alt="Dashboard">
</body>
</html>


